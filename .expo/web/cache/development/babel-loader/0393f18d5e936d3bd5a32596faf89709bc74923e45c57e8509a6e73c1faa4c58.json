{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useMemo, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated, { runOnJS, useAnimatedReaction, useAnimatedStyle } from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { typedMemo } from \"../utils\";\nvar _worklet_277111419052_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    activeCellSize\\n  } = this._closure;\\n  return activeCellSize.value;\\n}\",\n  location: \"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"activeCellSize\\\",\\\"_closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.js\\\"],\\\"mappings\\\":\\\"AA+BsB,SAAAA,SAAMA,CAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EACxB,OAAOD,cAAc,CAACE,KAAK;AAC7B\\\"}\"\n};\nvar _worklet_186283280068_init_data = {\n  code: \"function anonymous(cur, prev) {\\n  const {\\n    runOnJS,\\n    setSize\\n  } = this._closure;\\n  if (cur !== prev) {\\n    runOnJS(setSize)(cur);\\n  }\\n}\",\n  location: \"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"cur\\\",\\\"prev\\\",\\\"runOnJS\\\",\\\"setSize\\\",\\\"_closure\\\"],\\\"sources\\\":[\\\"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.js\\\"],\\\"mappings\\\":\\\"AAiCK,SAACA,SAAKA,CAAAC,GAAS,EAAAC,IAAA;EAAA;IAAAC,OAAA;IAAAC;EAAA,SAAAC,QAAA;EAChB,IAAIJ,GAAG,KAAKC,IAAI,EAAE;IAChBC,OAAO,CAACC,OAAO,CAAC,CAACH,GAAG,CAAC;EACvB;AACF\\\"}\"\n};\nvar _worklet_4188621503561_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    placeholderOffset,\\n    scrollOffset,\\n    size,\\n    horizontalAnim\\n  } = this._closure;\\n  const offset = placeholderOffset.value - scrollOffset.value;\\n  return {\\n    opacity: size >= 0 ? 1 : 0,\\n    overflow: 'hidden',\\n    transform: [horizontalAnim.value ? {\\n      translateX: offset\\n    } : {\\n      translateY: offset\\n    }]\\n  };\\n}\",\n  location: \"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"placeholderOffset\\\",\\\"scrollOffset\\\",\\\"size\\\",\\\"horizontalAnim\\\",\\\"_closure\\\",\\\"offset\\\",\\\"value\\\",\\\"opacity\\\",\\\"overflow\\\",\\\"transform\\\",\\\"translateX\\\",\\\"translateY\\\"],\\\"sources\\\":[\\\"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.js\\\"],\\\"mappings\\\":\\\"AAwCqC,SAAAA,SAAMA,CAAA;EAAA;IAAAC,iBAAA;IAAAC,YAAA;IAAAC,IAAA;IAAAC;EAAA,SAAAC,QAAA;EACvC,MAAMC,MAAM,GAAGL,iBAAiB,CAACM,KAAK,GAAGL,YAAY,CAACK,KAAK;EAC3D,OAAO;IACLC,OAAO,EAAEL,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;IAC1BM,QAAQ,EAAE,QAAQ;IAClBC,SAAS,EAAE,CAACN,cAAc,CAACG,KAAK,GAAG;MACjCI,UAAU,EAAEL;IACd,CAAC,GAAG;MACFM,UAAU,EAAEN;IACd,CAAC;EACH,CAAC;AACH\\\"}\"\n};\nfunction PlaceholderItem(_ref) {\n  var _propsRef$current;\n  var renderPlaceholder = _ref.renderPlaceholder;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    size = _useState2[0],\n    setSize = _useState2[1];\n  var _useAnimatedValues = useAnimatedValues(),\n    activeCellSize = _useAnimatedValues.activeCellSize,\n    placeholderOffset = _useAnimatedValues.placeholderOffset,\n    spacerIndexAnim = _useAnimatedValues.spacerIndexAnim,\n    horizontalAnim = _useAnimatedValues.horizontalAnim,\n    scrollOffset = _useAnimatedValues.scrollOffset;\n  var _useRefs = useRefs(),\n    keyToIndexRef = _useRefs.keyToIndexRef,\n    propsRef = _useRefs.propsRef;\n  var _useDraggableFlatList = useDraggableFlatListContext(),\n    activeKey = _useDraggableFlatList.activeKey,\n    horizontal = _useDraggableFlatList.horizontal;\n  useAnimatedReaction(function () {\n    var _e = [new global.Error(), -2, -27];\n    var _f = function _f() {\n      return activeCellSize.value;\n    };\n    _f._closure = {\n      activeCellSize: activeCellSize\n    };\n    _f.__initData = _worklet_277111419052_init_data;\n    _f.__workletHash = 277111419052;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), function () {\n    var _e = [new global.Error(), -3, -27];\n    var _f = function _f(cur, prev) {\n      if (cur !== prev) {\n        runOnJS(setSize)(cur);\n      }\n    };\n    _f._closure = {\n      runOnJS: runOnJS,\n      setSize: setSize\n    };\n    _f.__initData = _worklet_186283280068_init_data;\n    _f.__workletHash = 186283280068;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }());\n  var activeIndex = activeKey ? keyToIndexRef.current.get(activeKey) : undefined;\n  var activeItem = activeIndex === undefined ? null : (_propsRef$current = propsRef.current) === null || _propsRef$current === void 0 ? void 0 : _propsRef$current.data[activeIndex];\n  var animStyle = useAnimatedStyle(function () {\n    var _e = [new global.Error(), -5, -27];\n    var _f = function _f() {\n      var offset = placeholderOffset.value - scrollOffset.value;\n      return {\n        opacity: size >= 0 ? 1 : 0,\n        overflow: 'hidden',\n        transform: [horizontalAnim.value ? {\n          translateX: offset\n        } : {\n          translateY: offset\n        }]\n      };\n    };\n    _f._closure = {\n      placeholderOffset: placeholderOffset,\n      scrollOffset: scrollOffset,\n      size: size,\n      horizontalAnim: horizontalAnim\n    };\n    _f.__initData = _worklet_4188621503561_init_data;\n    _f.__workletHash = 4188621503561;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), [spacerIndexAnim, placeholderOffset, horizontalAnim, scrollOffset, size]);\n  var extraStyle = useMemo(function () {\n    return horizontal ? {\n      width: size\n    } : {\n      height: size\n    };\n  }, [horizontal, size]);\n  return React.createElement(Animated.View, {\n    pointerEvents: activeKey ? \"auto\" : \"none\",\n    style: [StyleSheet.absoluteFill, animStyle, extraStyle]\n  }, !activeItem || activeIndex === undefined ? null : renderPlaceholder === null || renderPlaceholder === void 0 ? void 0 : renderPlaceholder({\n    item: activeItem,\n    index: activeIndex\n  }));\n}\nexport default typedMemo(PlaceholderItem);","map":{"version":3,"names":["React","useMemo","useState","StyleSheet","Animated","runOnJS","useAnimatedReaction","useAnimatedStyle","useAnimatedValues","useDraggableFlatListContext","useRefs","typedMemo","_worklet_277111419052_init_data","code","location","sourceMap","_worklet_186283280068_init_data","_worklet_4188621503561_init_data","PlaceholderItem","_ref","_propsRef$current","renderPlaceholder","_useState","_useState2","_slicedToArray","size","setSize","_useAnimatedValues","activeCellSize","placeholderOffset","spacerIndexAnim","horizontalAnim","scrollOffset","_useRefs","keyToIndexRef","propsRef","_useDraggableFlatList","activeKey","horizontal","_e","global","Error","_f","value","_closure","__initData","__workletHash","__stackDetails","__version","cur","prev","activeIndex","current","get","undefined","activeItem","data","animStyle","offset","opacity","overflow","transform","translateX","translateY","extraStyle","width","height","createElement","View","pointerEvents","style","absoluteFill","item","index"],"sources":["/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/PlaceholderItem.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated, {\n  runOnJS,\n  useAnimatedReaction,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\nimport { useAnimatedValues } from \"../context/animatedValueContext\";\nimport { useDraggableFlatListContext } from \"../context/draggableFlatListContext\";\nimport { useRefs } from \"../context/refContext\";\nimport { RenderPlaceholder } from \"../types\";\nimport { typedMemo } from \"../utils\";\n\ntype Props<T> = {\n  renderPlaceholder?: RenderPlaceholder<T>;\n};\n\nfunction PlaceholderItem<T>({ renderPlaceholder }: Props<T>) {\n  const [size, setSize] = useState(0);\n  const {\n    activeCellSize,\n    placeholderOffset,\n    spacerIndexAnim,\n    horizontalAnim,\n    scrollOffset,\n  } = useAnimatedValues();\n  const { keyToIndexRef, propsRef } = useRefs<T>();\n  const { activeKey, horizontal } = useDraggableFlatListContext();\n\n  // Size does not seem to be respected when it is an animated style\n  useAnimatedReaction(\n    () => {\n      return activeCellSize.value;\n    },\n    (cur, prev) => {\n      if (cur !== prev) {\n        runOnJS(setSize)(cur);\n      }\n    }\n  );\n\n  const activeIndex = activeKey\n    ? keyToIndexRef.current.get(activeKey)\n    : undefined;\n  const activeItem =\n    activeIndex === undefined ? null : propsRef.current?.data[activeIndex];\n\n  const animStyle = useAnimatedStyle(() => {\n    const offset = placeholderOffset.value - scrollOffset.value\n    return {\n        opacity: size >= 0 ? 1 : 0,\n        overflow: 'hidden',\n        transform: [\n          horizontalAnim.value\n            ? { translateX: offset }\n            : { translateY: offset },\n        ],\n      };\n\n  }, [spacerIndexAnim, placeholderOffset, horizontalAnim, scrollOffset, size]);\n\n  const extraStyle = useMemo(() => {\n    return horizontal ? { width: size } : { height: size };\n  }, [horizontal, size])\n\n  return (\n    <Animated.View\n      pointerEvents={activeKey ? \"auto\" : \"none\"}\n      style={[StyleSheet.absoluteFill, animStyle, extraStyle]}\n    >\n      {!activeItem || activeIndex === undefined\n        ? null\n        : renderPlaceholder?.({ item: activeItem, index: activeIndex })}\n    </Animated.View>\n  );\n}\n\nexport default typedMemo(PlaceholderItem);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}