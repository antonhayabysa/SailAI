{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React from \"react\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport { NestableScrollContainerProvider, useSafeNestableScrollContainerContext } from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\nvar AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\nvar _worklet_4338216638853_init_data = {\n  code: \"function anonymous(_ref) {\\n  const {\\n    outerScrollOffset\\n  } = this._closure;\\n  let {\\n    contentOffset: contentOffset\\n  } = _ref;\\n  outerScrollOffset.value = contentOffset.y;\\n}\",\n  location: \"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/NestableScrollContainer.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"_ref\\\",\\\"outerScrollOffset\\\",\\\"_closure\\\",\\\"contentOffset\\\",\\\"value\\\",\\\"y\\\"],\\\"sources\\\":[\\\"/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/NestableScrollContainer.js\\\"],\\\"mappings\\\":\\\"AAkBc,SAAAA,SAAQA,CAAAC,IAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAChB,IAAI;IACFC,aAAA,EAAAA;EACF,CAAC,GAAGH,IAAI;EACRC,iBAAiB,CAACG,KAAK,GAAGD,aAAa,CAACE,CAAC;AAC3C\\\"}\"\n};\nfunction NestableScrollContainerInner(props) {\n  var _useSafeNestableScrol = useSafeNestableScrollContainerContext(),\n    outerScrollOffset = _useSafeNestableScrol.outerScrollOffset,\n    containerSize = _useSafeNestableScrol.containerSize,\n    scrollViewSize = _useSafeNestableScrol.scrollViewSize,\n    scrollableRef = _useSafeNestableScrol.scrollableRef,\n    outerScrollEnabled = _useSafeNestableScrol.outerScrollEnabled;\n  var onScroll = useAnimatedScrollHandler({\n    onScroll: function () {\n      var _e = [new global.Error(), -2, -27];\n      var _f = function _f(_ref) {\n        var contentOffset = _ref.contentOffset;\n        outerScrollOffset.value = contentOffset.y;\n      };\n      _f._closure = {\n        outerScrollOffset: outerScrollOffset\n      };\n      _f.__initData = _worklet_4338216638853_init_data;\n      _f.__workletHash = 4338216638853;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.3.0\";\n      return _f;\n    }()\n  });\n  var onLayout = useStableCallback(function (event) {\n    var layout = event.nativeEvent.layout;\n    containerSize.value = layout.height;\n  });\n  var onContentSizeChange = useStableCallback(function (w, h) {\n    var _props$onContentSizeC;\n    scrollViewSize.value = h;\n    (_props$onContentSizeC = props.onContentSizeChange) === null || _props$onContentSizeC === void 0 ? void 0 : _props$onContentSizeC.call(props, w, h);\n  });\n  return React.createElement(AnimatedScrollView, _extends({}, props, {\n    onLayout: onLayout,\n    onContentSizeChange: onContentSizeChange,\n    scrollEnabled: outerScrollEnabled,\n    ref: scrollableRef,\n    scrollEventThrottle: 1,\n    onScroll: onScroll\n  }));\n}\nexport var NestableScrollContainer = React.forwardRef(function (props, forwardedRef) {\n  return React.createElement(NestableScrollContainerProvider, {\n    forwardedRef: forwardedRef || undefined\n  }, React.createElement(NestableScrollContainerInner, props));\n});","map":{"version":3,"names":["React","ScrollView","Animated","useAnimatedScrollHandler","NestableScrollContainerProvider","useSafeNestableScrollContainerContext","useStableCallback","AnimatedScrollView","createAnimatedComponent","_worklet_4338216638853_init_data","code","location","sourceMap","NestableScrollContainerInner","props","_useSafeNestableScrol","outerScrollOffset","containerSize","scrollViewSize","scrollableRef","outerScrollEnabled","onScroll","_e","global","Error","_f","_ref","contentOffset","value","y","_closure","__initData","__workletHash","__stackDetails","__version","onLayout","event","layout","nativeEvent","height","onContentSizeChange","w","h","_props$onContentSizeC","call","createElement","_extends","scrollEnabled","ref","scrollEventThrottle","NestableScrollContainer","forwardRef","forwardedRef","undefined"],"sources":["/Users/big/Appinbox-projects/SailAI/node_modules/react-native-draggable-flatlist/lib/module/components/NestableScrollContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { LayoutChangeEvent, ScrollViewProps } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport Animated, { useAnimatedScrollHandler } from \"react-native-reanimated\";\nimport {\n  NestableScrollContainerProvider,\n  useSafeNestableScrollContainerContext,\n} from \"../context/nestableScrollContainerContext\";\nimport { useStableCallback } from \"../hooks/useStableCallback\";\n\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\nfunction NestableScrollContainerInner(props: ScrollViewProps) {\n  const {\n    outerScrollOffset,\n    containerSize,\n    scrollViewSize,\n    scrollableRef,\n    outerScrollEnabled,\n  } = useSafeNestableScrollContainerContext();\n\n  const onScroll = useAnimatedScrollHandler({\n    onScroll: ({ contentOffset }) => {\n      outerScrollOffset.value = contentOffset.y;\n    },\n  });\n\n  const onLayout = useStableCallback((event: LayoutChangeEvent) => {\n    const {\n      nativeEvent: { layout },\n    } = event;\n    containerSize.value = layout.height;\n  });\n\n  const onContentSizeChange = useStableCallback((w: number, h: number) => {\n    scrollViewSize.value = h;\n    props.onContentSizeChange?.(w, h);\n  });\n\n  return (\n    <AnimatedScrollView\n      {...props}\n      onLayout={onLayout}\n      onContentSizeChange={onContentSizeChange}\n      scrollEnabled={outerScrollEnabled}\n      ref={scrollableRef}\n      scrollEventThrottle={1}\n      onScroll={onScroll}\n    />\n  );\n}\n\nexport const NestableScrollContainer = React.forwardRef(\n  (props: ScrollViewProps, forwardedRef?: React.ForwardedRef<ScrollView>) => {\n    return (\n      <NestableScrollContainerProvider\n        forwardedRef={\n          (forwardedRef as React.MutableRefObject<ScrollView>) || undefined\n        }\n      >\n        <NestableScrollContainerInner {...props} />\n      </NestableScrollContainerProvider>\n    );\n  }\n);\n"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,QAAP,IAAmBC,wBAAnB,QAAmD,yBAAnD;AACA,SACEC,+BADF,EAEEC,qCAFF;AAIA,SAASC,iBAAT;AAEA,IAAMC,kBAAkB,GAAGL,QAAQ,CAACM,uBAAT,CAAiCP,UAAjC,CAA3B;AAAA,IAAAQ,gCAAA;EAAAC,IAAA;EAAAC,QAAA;EAAAC,SAAA;AAAA;AAEA,SAASC,4BAATA,CAAsCC,KAAtC,EAA8D;EAC5D,IAAAC,qBAAA,GAMIV,qCAAqC,EANzC;IACEW,iBADI,GAAAD,qBAAA,CACJC,iBADI;IAEJC,aAFI,GAAAF,qBAAA,CAEJE,aAFI;IAGJC,cAHI,GAAAH,qBAAA,CAGJG,cAHI;IAIJC,aAJI,GAAAJ,qBAAA,CAIJI,aAJI;IAKJC,kBAAA,GAAAL,qBAAA,CAAAK,kBAAA;EAGF,IAAMC,QAAQ,GAAGlB,wBAAwB,CAAC;IACxCkB,QAAQ;MAAA,IAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA;MAAA,IAAAC,EAAA,YAAAA,GAAEC,IAAA,EAAuB;QAAA,IAApBC,aAAA,GAAoBD,IAAA,CAApBC,aAAA;QACXX,iBAAiB,CAACY,KAAlB,GAA0BD,aAAa,CAACE,CAAxC;MACD;MAAAJ,EAAA,CAAAK,QAAA;QAAAd,iBAAA,EArBLA;MAAmB;MAAAS,EAAA,CAAAM,UAAA,GAAAtB,gCAAA;MAAAgB,EAAA,CAAAO,aAAA;MAAAP,EAAA,CAAAQ,cAAA,GAAAX,EAAA;MAAAG,EAAA,CAAAS,SAAA;MAAA,OAAAT,EAAA;IAAA;EAkByB,CAAD,CAAzC;EAMA,IAAMU,QAAQ,GAAG7B,iBAAiB,CAAE,UAAA8B,KAAD,EAA8B;IAC/D,IACiBC,MAAA,GACbD,KAFJ,CACEE,WAAW,CAAID,MAAA;IAEjBpB,aAAa,CAACW,KAAd,GAAsBS,MAAM,CAACE,MAA7B;EACD,CALiC,CAAlC;EAOA,IAAMC,mBAAmB,GAAGlC,iBAAiB,CAAC,UAACmC,CAAD,EAAYC,CAAZ,EAA0B;IAAA,IAAAC,qBAAA;IACtEzB,cAAc,CAACU,KAAf,GAAuBc,CAAvB;IACA,CAAAC,qBAAA,GAAA7B,KAAK,CAAC0B,mBAAN,cAAAG,qBAAA,uBAAAA,qBAAA,CAAAC,IAAA,CAAA9B,KAAK,EAAuB2B,CAAvB,EAA0BC,CAA1B,CAAL;EACD,CAH4C,CAA7C;EAKA,OACE1C,KAAA,CAAA6C,aAAA,CAACtC,kBAAD,EAAAuC,QAAA,KACMhC,KADN;IAEEqB,QAAQ,EAAEA,QAFZ;IAGEK,mBAAmB,EAAEA,mBAHvB;IAIEO,aAAa,EAAE3B,kBAJjB;IAKE4B,GAAG,EAAE7B,aALP;IAME8B,mBAAmB,EAAE,CANvB;IAOE5B,QAAQ,EAAEA;EAPZ,GADF;AAWD;AAED,OAAO,IAAM6B,uBAAuB,GAAGlD,KAAK,CAACmD,UAAN,CACrC,UAACrC,KAAD,EAAyBsC,YAAzB,EAA2E;EACzE,OACEpD,KAAA,CAAA6C,aAAA,CAACzC,+BAAD;IACEgD,YAAY,EACTA,YAAD,IAAwDC;EAF5D,GAKErD,KAAA,CAAA6C,aAAA,CAAChC,4BAAD,EAAkCC,KAAlC,CALF,CADF;AASD,CAXoC,CAAhC"},"metadata":{},"sourceType":"module","externalDependencies":[]}